<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>섹시유수의 여행일지</title>
  <style>
    :root {
      --primary: #4361ee;
      --secondary: #3f37c9;
      --accent: #4895ef;
      --light: #f8f9fa;
      --dark: #212529;
      --success: #4bb543;
      --error: #ff3333;
      --radius: 10px;
      --shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--light);
      margin: 0;
      padding: 1rem;
      color: var(--dark);
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .image-container {
      width: 100%;
      max-width: 500px;
      text-align: center;
    }

    .image-container img {
      width: 100%;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    .text {
      font-size: 2rem;
      font-weight: bold;
      margin: 1rem 0;
      text-align: center;
      color: var(--primary);
    }

    .button-group {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
      width: 100%;
      max-width: 400px;
      margin-top: 1.5rem;
    }

    .toggle-button {
      width: 100%;
      padding: 0.9rem;
      font-size: 1.1rem;
      font-weight: 600;
      background: linear-gradient(to right, var(--primary), var(--accent));
      color: white;
      border: none;
      border-radius: 999px;
      box-shadow: var(--shadow);
      cursor: pointer;
      transition: var(--transition);
    }

    .toggle-button:hover {
      transform: translateY(-2px);
      opacity: 0.95;
    }

    .toggle-wrapper {
      display: none;
      margin-top: 1rem;
      text-align: center;
    }

    .toggle-wrapper img {
      width: 100%;
      max-width: 300px;
      margin-bottom: 1rem;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      cursor: pointer;
    }

    .popup {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.6);
      justify-content: center;
      align-items: center;
      z-index: 1000;
      padding: 1rem;
    }

    .popup-content {
      background: white;
      padding: 1.2rem;
      border-radius: var(--radius);
      max-width: 90vw;
      max-height: 80vh;
      overflow-y: auto;
      text-align: center;
      position: relative;
    }

    .close-btn {
      position: absolute;
      top: 10px; right: 10px;
      font-size: 1.2rem;
      background: none;
      border: none;
      cursor: pointer;
    }

    .short-text {
      font-size: 1.2rem;
      margin: 2rem 0;
    }

    .auth-container {
      background: white;
      padding: 1rem;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      width: 100%;
      max-width: 400px;
      margin-bottom: 2rem;
    }

    .tab-content {
      text-align: center;
    }

    .btn {
      padding: 0.8rem;
      width: 100%;
      font-size: 1rem;
      font-weight: 600;
      margin: 0.5rem 0;
      border: none;
      border-radius: var(--radius);
      cursor: pointer;
      transition: var(--transition);
    }

    .btn-guest {
      background: #6c757d;
      color: white;
    }

    .btn-google {
      background: #4285F4;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .btn-google svg {
      margin-right: 8px;
    }

    .user-info {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      box-shadow: var(--shadow);
      font-size: 0.9rem;
      z-index: 1000;
      display: none;
    }

    .logout-btn {
      margin-left: 8px;
      background: var(--error);
      color: white;
      border: none;
      border-radius: 4px;
      padding: 0.3rem 0.6rem;
      font-size: 0.8rem;
      cursor: pointer;
    }
  </style>
</head>
<body>

<script>
  if (document.referrer !== "https://yousoo68.github.io/fjYxbSA/")
    location.href = "https://yousoo68.github.io/fjYxbSA/";
  if (location.hostname !== "yousoo68.github.io") {
    document.body.innerHTML = "<h1 style='text-align:center;margin-top:50px;color:var(--primary);'>이 페이지는 섹시유수 갤러리를 통해서만 접속할 수 있습니다.</h1>";
    setTimeout(() => location.href = "https://yousoo68.github.io/fjYxbSA/", 5000);
  }
</script>

<div class="auth-container" id="auth-container">
  <div class="tab-content">
    <button id="guest-login-btn" class="btn btn-guest">Guest로 로그인</button>
    <button id="google-login-btn" class="btn btn-google">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 488 512" style="width:18px;height:18px;margin-right:8px">
        <path fill="white" d="M488 261.8C488 403.3 391.1 504 248 504C110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"/>
      </svg>Google로 로그인
    </button>
  </div>
</div>
<div class="user-info" id="user-info">
  <span id="user-email"></span>
  <button id="logout-btn" class="logout-btn">로그아웃</button>
</div>

<div id="content" style="display:none">
  <div class="image-container">
    <img src="https://raw.githubusercontent.com/Yousoo68/H2JhFqK/refs/heads/main/Travel2.jpg" alt="Travel Image">
  </div>
  <div class="text">                2025년</div>
  <div class="button-group">
    <button class="toggle-button" onclick="toggleContent('toggleWrapper1')">강릉</button>
    <div class="toggle-wrapper" id="toggleWrapper1">
      <img src="https://raw.githubusercontent.com/Yousoo68/H2JhFqK/refs/heads/main/day1.jpg" onclick="showPopupByImg(this.src)">
      <br><img src="https://raw.githubusercontent.com/Yousoo68/H2JhFqK/refs/heads/main/day2.jpg" onclick="showPopupByImg(this.src)">
      <br><img src="https://raw.githubusercontent.com/Yousoo68/H2JhFqK/refs/heads/main/day3.jpg" onclick="showPopupByImg(this.src)">
    </div>
    <button class="toggle-button" onclick="toggleContent('toggleWrapper2')">춘천</button>
    <div class="toggle-wrapper" id="toggleWrapper2">
      <img src="https://raw.githubusercontent.com/Yousoo68/H2JhFqK/refs/heads/main/Fjsuq.jpg" onclick="showPopupByImg(this.src)">
      <br><img src="https://raw.githubusercontent.com/Yousoo68/H2JhFqK/refs/heads/main/Hfzdyijc.jpg" onclick="showPopupByImg(this.src)">
    </div>
  </div>
  <div class="popup" id="popup">
    <div class="popup-content">
      <button class="close-btn" onclick="closePopup()">X</button>
      <p id="popup-text"></p>
    </div>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script>
  const sexyyousoo_reader = ["fjrtufl9909@gmail.com","minjune003956@gmail.com","sexyyousoo68@gmail.com"];

  const imageTextMap = {
    "day1.jpg": { reader:"미오픈1", guest:"준비중..." },
    "day2.jpg": { reader:"미오픈2", guest:"준비중..." },
    "day3.jpg": { reader:"미오픈3", guest:"준비중..." },
    "Fjsuq.jpg": {
      reader: "(가):오늘은 다가올 내 생일을 위해… (생략)",
      guest: "준비중..."
    },
    "Hfzdyijc.jpg": { reader:"미오픈5", guest:"준비중..." }
  };

  function showPopupByImg(imgSrc) {
    const file = imgSrc.split('/').pop();
    const isReader = currentUser && sexyyousoo_reader.includes(currentUser.email);
    const txtMap = imageTextMap[file];
    const msg = txtMap ? (isReader ? txtMap.reader : txtMap.guest) : "준비중...";
    const pop = document.getElementById('popup');
    const popupText = pop.querySelector('#popup-text');

    popupText.textContent = msg;

    // ✅ 수정: 짧은 텍스트에 클래스 추가
    popupText.className = msg.length < 30 ? 'short-text' : '';

    pop.style.display = 'flex';
  }

  const firebaseConfig = {
    apiKey:"AIzaSyClivXSor5P8XJHw1rWYsVfxt8iU6_NgBA",
    authDomain:"login-34bef.firebaseapp.com",
    projectId:"login-34bef",
    storageBucket:"login-34bef.appspot.com",
    messagingSenderId:"888738257773",
    appId:"1:888738257773:web:b1c5a99b41996c3ac2d864"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const authContainer = document.getElementById('auth-container');
  const logoutBtn = document.getElementById('logout-btn');
  const guestLoginBtn = document.getElementById('guest-login-btn');
  const googleLoginBtn = document.getElementById('google-login-btn');
  const userInfo = document.getElementById('user-info');
  const userEmail = document.getElementById('user-email');
  const content = document.getElementById('content');
  let currentUser = null, isGuest = false;

  guestLoginBtn.onclick = () => {
    isGuest = true;
    currentUser = { email: '게스트로 로그인 중', isGuest: true };
    updateUI();
  };
  googleLoginBtn.onclick = async () => {
    try {
      const result = await auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());
      currentUser = result.user;
      isGuest = false;
      updateUI();
    } catch (e) { console.error('Google 로그인 오류:', e); }
  };
  logoutBtn.onclick = () => {
    currentUser = null;
    isGuest ? updateUI() : auth.signOut().then(updateUI).catch(console.error);
  };
  function updateUI() {
    const show = currentUser !== null;
    authContainer.style.display = show ? 'none' : 'block';
    userInfo.style.display = show ? 'flex' : 'none';
    content.style.display = show ? 'block' : 'none';
    if (show) userEmail.textContent = currentUser.email;
  }
  auth.onAuthStateChanged(user => {
    if (user) currentUser = user;
    updateUI();
  });
  updateUI();

  function toggleContent(id) {
    const el = document.getElementById(id);
    el.style.display = el.style.display === 'block' ? 'none' : 'block';
  }
  function closePopup() {
    document.getElementById('popup').style.display = 'none';
  }
</script>
</body>
</html>
